---
---
Redovisning kmom06
=========================

Sista momentet inför projektet gick helt okej. Uppgiften för textfiltreringen och formateringen rullade på, jag förstod hur jag skulle bygga upp koden och det kändes ganska bra. Den blev inte slående vacker men den duger gott. Det var lite klurigare att få in den i ramverket och jag fastnade en stund på att htmlentities rensade koden igen, vilket resulterade i att jag var tvungen att ta bort den för just den kod som jag formaterat.  

När det gällde innehållet och webbsidorna valde jag att börja med att bara få ordning på koden och la den därför till att börja med i samma fil, för att därefter dela upp den. Det kändes viktigt för att jag skulle fortsätta öka min förståelse över hur delarna hänger ihop och såhär i efterhand kändes det onekligen som rätt väg att gå.
Jag började sedan strukturera om min kod genom att skapa en supportklass, där jag stoppade in metoder för slug och textfiltreringen(som i sin tur använde sig av textfiltreringsklassen). Därefter byggde jag Content-klassen och la in alla SQL-metoder däri, vilket gjorde controller-klassen mycket mindre och renare. Jag hade kunnat bena ner strukturen ytterligare, men kände att jag fått lite grepp om hur den skulle kunna se ut (flera olika controllers för de olika delarna av sidan samt mer användning av egna traits eller interfaces), men valde att stanna där då jag vill komma igång med projektet och lägga min tid på att skapa en stiligare kod där. Kändes ändå som att tiden jag la på att strukturera om koden helt klart var värd det och jag fick lite mer insikt i hur jag skulle kunna skapa en bättre struktur redan från början av kodskrivandet.  

Jag känner absolut att koden i in redovisa kan bli bättre och tydligare genom bättre struktur och uppdelningar, men då jag tyckt att kursen varit väldigt svår så har jag inte kunnat lägga fullt fokus på att få till den kodstruktur jag önskat då jag varje moment fått fokusera på bara att få koden att fungera. Det var nog bara kmom05 där jag kände att jag förstod vad jag höll på med så pass att jag ändå kunde lägga lite fokus på det, vilket känns synd. Till framtida kurser kanske det skulle kunna finnas en poäng i att inte behöva skriva ny kod i varje moment utan att ha ett moment som helt fokuserar på uppbrytning och delning av den egna koden, istället för att varje gång sätta sig in i kod som någon annan skrivit.  

För egen del skulle jag framförallt vilja använda traits mer, få in ytterligare uppdelning mellan controller och olika klasser och även eventuellt dela upp själva controllern i ytterligare flera klasser. Jag tänker helt klart försöka skapa en bättre struktur under projektet.  

Allmänt var uppgiften ändå nyttig för mig, även om den tog rätt mycket tid. Jag klurade en hel del på felhanteringen för både pathen och slugen men framförallt pathen kändes lite halvklurig då syftet med den inte var helt klart. Att få till så att man kunde ha flera rader i databasen med tom path var inget problem, däremot blev det inte speciellt bra när man klickade på en bloggpost och alltid hamnade på “hem” som var dit jag valt att redirecta den. Jag valde därför att filtrera bort de som inte hade en valid path från själva bloggen för att man inte ska luras hamna på fel ställe, men möjligheten att se dem finns i admin-delen.  

Veckans TIL (kanske TWIL, This Week I Learned) var nog att våga skriva fulkod och göra om den i efterhand. Det är helt okej att inte kunna skriva superbra kod ännu, så länge jag hittar sätt att lära mig det på, och det kan man göra även genom att refaktorera den kod jag skrivit. Det gav mig riktigt mycket.  
