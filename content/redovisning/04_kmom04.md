---
---
Redovisning kmom04
=========================

Trait och interface känns som konstruktioner som kompletterar koden på ett smidigt och bra sätt. De möjliggör mindre kod i varje klass, framförallt om det finns flera klasser som har liknande egenskaper och som kan dela kod, men har nog ytterligare nytta när koden inte bara hanteras av mig själv utan av flera personer, framförallt på grund av beteendet hos interface. Jag upplever dock att det kan vara lite klurigare att hålla koll på vad som finns i vilken klass som använder dessa funktioner, vilket skapar mer bläddrande mellan filer, men detta handlar nog mestadels om ovana. Jag upplever att jag fick ett bättre grepp om hur jag drar nytta av trait jämfört med interface, men vi använde också trait mer under guiden och i uppgiften, så det är inte så konstigt. För övrigt uppskattar jag fortfarande guiden väldigt mycket, det är ett sätt jag lär mig väldigt bra på.  

Kontroller är något helt nytt för mig, även om jag hört uttrycket förr. Hittills är det för nytt för att sätta en rimligt känsla på det, men om man verkligen vill ha den ögonblicksbilden så känns det just nu rörigt, bara ett annat sätt att göra samma sak som tidigare. Eftersom vi hittills inte skrivit tester med faktiskt fokus på värdefull testning så känns inte heller den som en stor bonus för tillfället, även om jag kan se att detta skulle kunna göra större skillnader i större och mer långtgående projekt. I och med att man också lägger in i princip all kod i väldigt “grundläggande” php, antar jag att det är lättare att tillämpa kontroller på olika ramverk, än använda routen som vi gjorde under förra momentet, vilket såklart gör det till en fördel att kunna.   

Från förra spelet hade jag en ganska simpel logik för datorn, där datorn kollade om det osparade värdet var 20 eller högre, då valde den att spara. Om det sparade värdet och det osparade värdet tillsammans översteg hundra valde datorn att spara oavsett om värdet översteg 20 eller inte.  
Jag valde att utveckla logiken lite eftersom slagen kan variera rätt mycket i och med förändring i antalet tärningar. Jag utökade logiken för om datorn ska spara eller ej med en check på hur många tärningar som används och om det är en tärning är gränsen för när datorn sparar 12, om det är två tärningar är det 20, och om det är mer är det 25. Självklart går detta att utveckla ännu mer och man skulle även kunna anpassa logiken beroende av hur många sidor tärningarna har, eftersom det blir mindre chans att få en etta, ju fler sidor tärningen har. Jag valde dock att stanna här. Siffrorna jag valt är rätt godtyckliga, men jag tycker att 20 har varit en ganska bra gräns för spel på två tärningar, så att justera dem lite för färre eller fler tärningar kändes rätt naturligt. Jag har definitivt förlorat mot datorn ibland, antingen för att man är för feg och sparar för tidigt, eller slår som en kratta.  

Det känns verkligen att vi gräver oss djupare och djupare in i ramverkets struktur och även om jag känner att jag förstår mycket mer av den nu än vad jag gjorde i design-kursen så är det fortfarande mycket som är svårt att förstå hur det fungerar helt och hållet. Jag förstår att det kommer vara värdefullt när man väl har lärt sig mer om hur de olika sakerna fungerar tillsammans, men just nu är det som allt annat, ganska förvirrande. Den videoserie som ackompanjerade uppgiften var dock väldigt uppskattad och jag hade nog fått kämpa väldigt länge för att komma lika långt själv. Jag känner också att den gav mig förståelse för hur kontrollern fungerade tillsammans med ramverket på ett bra och tydligt sätt.   

Jag lyckades få en rätt hög kodtäckning redan i förra momentet, så jag byggde helt enkelt på denna med histogram och controllerklasserna. Jag anser inte att mina tester testar speciellt väsentliga grejer men kodtäckningen fick jag upp till över 90% på alla delar, vilket känns bra. Det var några platser som blev lite klurigare på grund av slumpmässiga utfall men har i vissa av de fallen helt enkelt bara kollat att typen på det returnerade värdet är av rätt sort. Enhetstestningen känns generellt mycket enklare än resten av koden just nu och jag tror att det beror på att vi bara bryr oss om kodtäckningen i uppgifterna, och inte vad de faktiskt testar. Känn lite skevt men jag har inte utrymme att kolla mer på det efter förra veckans kmom.  

TIL för det här momentet är att inte snurra till det för mycket, våga backa och förenkla den egna koden. Snurrade till det rejält med implementeringen av histogrammet men bestämde mig för att backa, gå tillbaka till grunden och prova igen. Då gick det mycket, mycket bättre! En liten andra miniTIL är användningen av array_merge, väldigt bra konstruktion att minnas!
